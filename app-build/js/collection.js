define(["underscore","backbone","model"],function(e,t,n){var r=t.Collection.extend({model:n.Soporte}),i=t.Collection.extend({model:n.Via}),s=t.Collection.extend({model:n.Objeto,listbyCategory:function(e){return filtered=this.filter(function(t){return t.get("categoria")===e}),new s(filtered)},listbyId:function(e){return filtered=this.filter(function(t){return t.get("id")===e}),new s(filtered)}}),o=t.Collection.extend({model:n.Categoria}),u=t.Collection.extend({model:n.Tejido}),a=t.Collection.extend({model:n.Producto}),f=t.Collection.extend({model:n.SoporteProducto}),l=t.Collection.extend({model:n.ViaProducto,initialize:function(){this.on("change",this.reCalcular,this)},reCalcular:function(e){if(viasCarrito&&viasCarrito.length>0){var t=0;for(var n=0;n<viasCarrito.length;n++){var r=viasCarrito.at(n);t++;var i=$("#viaeditTemplate").html(),s=Handlebars.compile(i),o=s(r.toJSON());$(".via"+t).html(o)}}}});return{Soportes:r,Vias:i,Objetos:s,Categorias:o,Tejidos:u,SoporteCarrito:f,ViaCarrito:l,Carrito:a}});
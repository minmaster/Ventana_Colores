(function(e,r){if("object"==typeof exports){var o=require("underscore"),i=require("backbone");module.exports=r(o,i)}else"function"==typeof define&&define.amd&&define(["underscore","backbone"],r)})(this,function(e,r){"option strict";return r.EventBinder=function(e,r){function o(e){if(r.isUndefined(e)||r.isNull(e))throw Error("Can't bindTo undefined");return e.jquery?i.jquery:i["default"]}var i={"default":{bindTo:function(e,r,o,i){i=i||this,e.on(r,o,i);var T={type:"default",obj:e,eventName:r,callback:o,context:i};return T},unbindFrom:function(e){e.obj.off(e.eventName,e.callback,e.context)}},jquery:{bindTo:function(e,o,i,T){T=T||this,i=r(i).bind(T),e.on(o,i);var v={type:"jquery",obj:e,eventName:o,callback:i,context:T};return v},unbindFrom:function(e){e.obj.off(e.eventName,e.callback)}}},T=function(){this._eventBindings=[]};return T.extend=e.View.extend,r.extend(T.prototype,{bindTo:function(){var e=arguments[0],r=o(e),i=Array.prototype.slice.apply(arguments),T=r.bindTo.apply(this,i);return this._eventBindings.push(T),T},unbindFrom:function(e){var o=Array.prototype.slice.apply(arguments);i[e.type].unbindFrom.apply(this,o),this._eventBindings=r.reject(this._eventBindings,function(r){return r===e})},unbindAll:function(){var e=r.map(this._eventBindings,r.identity);r.each(e,this.unbindFrom,this)}}),T}(r,e),r.EventBinder});